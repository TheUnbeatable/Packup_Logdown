## LOJ #2107 JLOI2015 城池攻占
### Description
n个城池构成了一个有根树的结构,有m个骑士从树上的一个城池出发向上攻克城池,如果骑士的生命大于城池的生命,那么可以攻克,否则骑士牺牲.攻克城池后骑士的生命会根据城池的属性加上或乘上一个值(保证乘上的值是正的),求每个城池牺牲的骑士数量以及每个骑士攻占的城池数量.
### Solution
一个骑士只会牺牲一次,考虑离线处理,每个骑士对应一个左偏树节点(小根堆),key为生命值,DFS将子节点的信息合并到父节点,然后不断将生命值最小的骑士弹出牺牲,知道根的key大于城池的生命值,然后打上标记(+,*).由于乘上的树保证是正的,所以打标记后不会影响树中节点的大小关系,复杂度O(nlogn).
### [Code](https://loj.ac/submission/60856)
